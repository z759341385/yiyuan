{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"fire\"],{\"0fa8\":function(e,t,i){},4359:function(e,t,i){\"use strict\";i(\"0fa8\")},a55c:function(e,t,i){\"use strict\";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"page\"},[i(\"Header\",{attrs:{logo:e.info.logo,title:e.info.depName,secondTitle:e.info.nurseDepName}}),i(\"div\",{staticClass:\"patients_detail_box flex\"},[i(\"div\",{staticClass:\"flex5 flex col\"},[i(\"div\",{staticClass:\"card img_box flex col\"},[i(\"div\",{staticClass:\"title t_ct\"},[e._v(\"消防消散平面图\")]),i(\"img\",{staticClass:\"img mt_20\",attrs:{src:e.info.fireControl.contorlPic}})]),i(\"div\",{staticClass:\"add_record flex am_c\"},[i(\"div\",{staticClass:\"title\"},[e._v(\"巡检记录新增\")]),i(\"div\",{staticClass:\"flex am_c\"},[i(\"div\",{staticClass:\"mr_20\"},[e._v(\"选择设备\")]),i(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.equipment,callback:function(t){e.equipment=t},expression:\"equipment\"}},e._l(e.equipments,(function(e){return i(\"el-option\",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),i(\"div\",{staticClass:\"flex am_c ml_40\"},[i(\"div\",{staticClass:\"mr_20\"},[e._v(\"检查人\")]),i(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.checker,callback:function(t){e.checker=t},expression:\"checker\"}},e._l(e.checkers,(function(e){return i(\"el-option\",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),i(\"el-button\",{staticClass:\"ml_40\",attrs:{type:\"primary\",loading:e.isLoading},on:{click:function(t){return e.commit()}}},[e._v(\"提交\")])],1)]),i(\"div\",{staticClass:\"flex2 card flex col ml_40\"},[i(\"div\",{staticClass:\"operation_box\"},[i(\"div\",{staticClass:\"title t_ct\"},[e._v(\"消防器材巡检记录\")]),i(\"div\",{staticClass:\"title_box flex am_c\"},e._l(e.titleList,(function(t){return i(\"div\",{key:t.label,staticClass:\"flex col am_c title_item\",style:t.style},[i(\"div\",[e._v(e._s(t.label))])])})),0),i(\"div\",{staticClass:\"list_box\"},e._l(e.chickpage.list,(function(t){return i(\"div\",{key:t.label,staticClass:\"flex am_c list_item\"},[i(\"div\",{staticClass:\"t_ct col_item\",style:e.titleList[0].style},[e._v(e._s(t.fireDevName))]),i(\"div\",{staticClass:\"t_ct col_item\",style:e.titleList[1].style},[e._v(e._s(t.checkUserName))]),i(\"div\",{staticClass:\"t_ct col_item\",style:e.titleList[2].style},[e._v(e._s(t.checkDate))])])})),0),i(\"el-pagination\",{attrs:{background:\"\",\"current-page\":e.chickpage.pageNo,\"page-size\":e.chickpage.pageSize,total:e.chickpage.count,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":e.handleCurrentChange,\"update:currentPage\":function(t){return e.$set(e.chickpage,\"pageNo\",t)},\"update:current-page\":function(t){return e.$set(e.chickpage,\"pageNo\",t)}}})],1)])])],1)},r=[],s=(i(\"96cf\"),i(\"1da1\")),n=i(\"d4ec\"),c=i(\"bee2\"),l=i(\"262e\"),u=i(\"2caf\"),o=i(\"9ab4\"),p=i(\"1b40\"),h=i(\"0418\"),f=i(\"79f6\"),v=function(e){Object(l[\"a\"])(i,e);var t=Object(u[\"a\"])(i);function i(){var e;return Object(n[\"a\"])(this,i),e=t.apply(this,arguments),e.info={fireControl:{contorlPic:\"\"}},e.chickpage={pageNo:1,pageSize:30},e.titleList=[{label:\"检查内容\",eng:\"name\",style:\"flex: 1\"},{label:\"检查人\",eng:\"sex\",style:\"flex: 1\"},{label:\"检查时间\",eng:\"sex\",style:\"flex: 2\"}],e.equipment=\"\",e.equipments=[],e.checker=\"\",e.checkers=[],e.isLoading=!1,e}return Object(c[\"a\"])(i,[{key:\"mounted\",value:function(){this.getData(),this.getFireChecklist(),this.getFireDevlist(),this.getFireUserlist()}},{key:\"getData\",value:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.nurseDepId,e.next=3,Object(f[\"g\"])({nurseDepId:t});case 3:i=e.sent,this.info=i;case 5:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"getFireChecklist\",value:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.nurseDepId,e.next=3,Object(f[\"e\"])({nurseDepId:t,pageNo:this.chickpage.pageNo,pageSize:this.chickpage.pageSize});case 3:i=e.sent,this.chickpage=Object.assign({},this.chickpage,i.chickpage);case 5:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"getFireDevlist\",value:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.nurseDepId,e.next=3,Object(f[\"f\"])({nurseDepId:t});case 3:i=e.sent,this.equipments=i;case 5:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"getFireUserlist\",value:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.nurseDepId,e.next=3,Object(f[\"h\"])({nurseDepId:t});case 3:i=e.sent,this.checkers=i;case 5:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"commit\",value:function(){var e=Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.equipment){e.next=3;break}return this.$message.error(\"请选择设备\"),e.abrupt(\"return\");case 3:if(this.checker){e.next=6;break}return this.$message.error(\"请选择检查人\"),e.abrupt(\"return\");case 6:return e.prev=6,this.isLoading=!0,t=this.$route.query.nurseDepId,e.next=11,Object(f[\"a\"])({nurseDepId:t,devId:this.equipment,userId:this.checker});case 11:this.$message.success(\"添加成功\");case 12:return e.prev=12,this.isLoading=!1,e.finish(12);case 15:case\"end\":return e.stop()}}),e,this,[[6,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:\"handleCurrentChange\",value:function(){this.getFireChecklist()}}]),i}(p[\"c\"]);v=Object(o[\"a\"])([Object(p[\"a\"])({name:\"FireInfo\",components:{Header:h[\"a\"]}})],v);var d=v,g=d,m=(i(\"4359\"),i(\"2877\")),k=Object(m[\"a\"])(g,a,r,!1,null,\"6c51f30e\",null);t[\"default\"]=k.exports}}]);","extractedComments":[]}