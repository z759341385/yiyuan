{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/announcement/home/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/announcement/home/index.vue","mtime":1635209544912},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhc/project/yiyuan/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL0hlYWRlci52dWUiOwppbXBvcnQgdnVlU2VhbWxlc3NTY3JvbGwgZnJvbSAidnVlLXNlYW1sZXNzLXNjcm9sbCI7CmltcG9ydCB7IG5ld0luZm8sIGhvc3BpdGFsTGlzdCwgZGVwTGlzdCwgeHhMaXN0IH0gZnJvbSAiQC9hcGkvaW5kZXgiOwovLyBjb25zdCBpbmZvID0gcmVxdWlyZSgiQC9hc3NldHMvbm90aWNlLmpzIikuanNvbjsKCkBDb21wb25lbnQoewogIG5hbWU6ICJBbm5vdW5jZW1lbnRIb21lIiwKICBjb21wb25lbnRzOiB7IEhlYWRlciwgdnVlU2VhbWxlc3NTY3JvbGwgfSwKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBWdWUgewogIGluZm86IGFueSA9IHt9OwoKICB0YWIgPSAwOwoKICB0YWJMaXN0ID0gWwogICAgeyB0aXRsZTogIuWFqOmZouWFrOWRiiIsIGljb246ICJob3MteWl5dWFuIiwgcGFnZU5vOiAxLCBwYWdlU2l6ZTogMjAsIHRvdGFsOiAwLCBsaXN0OiBbXSB9LAogICAgeyB0aXRsZTogIueXheWMuuWFrOWRiiIsIGljb246ICJob3Mta2VzaGkiLCBwYWdlTm86IDEsIHBhZ2VTaXplOiAyMCwgdG90YWw6IDAsIGxpc3Q6IFtdIH0sCiAgICB7IHRpdGxlOiAi5a6j5pWZ5L+h5oGvIiwgaWNvbjogImhvcy15aXNoZW5nIiwgcGFnZU5vOiAxLCBwYWdlU2l6ZTogMjAsIHRvdGFsOiAwLCBsaXN0OiBbXSB9LAogIF07CgogIGNsYXNzT3B0aW9uID0gewogICAgc3RlcDogMSwgLy8g5pWw5YC86LaK5aSn6YCf5bqm5rua5Yqo6LaK5b+rCiAgICBsaW1pdE1vdmVOdW06IDEwLCAvLyDlvIDlp4vml6DnvJ3mu5rliqjnmoTmlbDmja7ph48gdGhpcy5kYXRhTGlzdC5sZW5ndGgKICAgIGhvdmVyU3RvcDogdHJ1ZSwgLy8g5piv5ZCm5byA5ZCv6byg5qCH5oKs5YGcc3RvcAogICAgZGlyZWN0aW9uOiAxLCAvLyAw5ZCR5LiLIDHlkJHkuIogMuWQkeW3piAz5ZCR5Y+zCiAgICBvcGVuV2F0Y2g6IHRydWUsIC8vIOW8gOWQr+aVsOaNruWunuaXtuebkeaOp+WIt+aWsGRvbQogICAgc2luZ2xlSGVpZ2h0OiA1MSwgLy8g5Y2V5q2l6L+Q5Yqo5YGc5q2i55qE6auY5bqmKOm7mOiupOWAvDDmmK/ml6DnvJ3kuI3lgZzmraLnmoTmu5rliqgpIGRpcmVjdGlvbiA9PiAwLzEKICAgIHNpbmdsZVdpZHRoOiAwLCAvLyDljZXmraXov5DliqjlgZzmraLnmoTlrr3luqYo6buY6K6k5YC8MOaYr+aXoOe8neS4jeWBnOatoueahOa7muWKqCkgZGlyZWN0aW9uID0+IDIvMwogICAgd2FpdFRpbWU6IDEwMDAsIC8vIOWNleatpei/kOWKqOWBnOatoueahOaXtumXtCjpu5jorqTlgLwxMDAwbXMpCiAgfTsKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgfQoKICBhc3luYyBnZXREYXRhKCkgewogICAgY29uc3QgcGlkID0gdGhpcy4kcm91dGUucXVlcnkubnVyc2VEZXBJZDsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5ld0luZm8oeyBudXJzZURlcElkOiBwaWQgfSk7CiAgICB0aGlzLmluZm8gPSByZXM7CiAgfQoKICBhc3luYyBnZXRMaXN0KCkgewogICAgY29uc3QgcGlkID0gdGhpcy4kcm91dGUucXVlcnkubnVyc2VEZXBJZDsKICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgbnVyc2VEZXBJZDogcGlkLAogICAgICBwYWdlTm86IHRoaXMudGFiTGlzdFt0aGlzLnRhYl0ucGFnZU5vLAogICAgICBwYWdlU2l6ZTogdGhpcy50YWJMaXN0W3RoaXMudGFiXS5wYWdlU2l6ZSwKICAgIH07CiAgICBsZXQgcmVzOiBhbnkgPSBudWxsOwogICAgaWYgKHRoaXMudGFiID09IDApIHsKICAgICAgcmVzID0gYXdhaXQgaG9zcGl0YWxMaXN0KHBhcmFtcyk7CiAgICB9IGVsc2UgaWYgKHRoaXMudGFiID09IDEpIHsKICAgICAgcmVzID0gYXdhaXQgZGVwTGlzdChwYXJhbXMpOwogICAgfSBlbHNlIHsKICAgICAgcmVzID0gYXdhaXQgeHhMaXN0KHBhcmFtcyk7CiAgICB9CiAgICBjb25zdCBjdXIgPSB0aGlzLnRhYkxpc3RbdGhpcy50YWJdOwogICAgY3VyLmxpc3QgPSByZXMucGFnZS5saXN0OwogICAgY3VyLnRvdGFsID0gcmVzLnBhZ2UuY291bnQ7CiAgICB0aGlzLnRhYkxpc3Quc3BsaWNlKHRoaXMudGFiLCAxLCBjdXIpOwogIH0KCiAgc2VsZWN0VGFiKHRhYjogbnVtYmVyKSB7CiAgICB0aGlzLnRhYiA9IHRhYjsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0KCiAgaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/announcement/home","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"operation_box\">\n      <div class=\"flex am_c\">\n        <div\n          v-for=\"(item, index) in tabList\"\n          :key=\"item.title\"\n          class=\"tab_item flex am_c\"\n          :class=\"{ selected: tab === index }\"\n          @click=\"selectTab(index)\"\n        >\n          <div>{{ item.title }}</div>\n          <!-- <img class=\"icon_top ml_5\" :src=\"item.icon\" alt=\"\" /> -->\n          <i :class=\"[item.icon, 'f28 ml_5']\" />\n        </div>\n      </div>\n      <div v-for=\"(tabItem, index) in tabList\" :key=\"tabItem.title\" class=\"card_box\">\n        <div v-if=\"tab == index\" class=\"list_box\">\n          <router-link\n            :to=\"{ path: `/announcement/detail/${item.id}?nurseDepId=${$route.query.nurseDepId}` }\"\n            v-for=\"item in tabItem.list\"\n            :key=\"item.id\"\n            class=\"list_item flex am_c\"\n          >\n            <div v-if=\"item.newsType == '医院公告'\" class=\"hos-yiyuan f24 mr_10\"></div>\n            <div v-else-if=\"item.newsType == '病区公告'\" class=\"hos-keshi f24 mr_10\"></div>\n            <div v-else-if=\"item.newsType == '宣教信息'\" class=\"hos-yisheng f24 mr_10\"></div>\n            <div>{{ item.title }}</div>\n          </router-link>\n        </div>\n        <el-pagination\n          v-if=\"tab == index\"\n          background\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"tabList[tab].pageNo\"\n          :page-size=\"tabList[tab].pageSize\"\n          :total=\"tabList[tab].total\"\n          layout=\"total, prev, pager, next, jumper\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Header from \"@/components/Header.vue\";\nimport vueSeamlessScroll from \"vue-seamless-scroll\";\nimport { newInfo, hospitalList, depList, xxList } from \"@/api/index\";\n// const info = require(\"@/assets/notice.js\").json;\n\n@Component({\n  name: \"AnnouncementHome\",\n  components: { Header, vueSeamlessScroll },\n})\nexport default class extends Vue {\n  info: any = {};\n\n  tab = 0;\n\n  tabList = [\n    { title: \"全院公告\", icon: \"hos-yiyuan\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n    { title: \"病区公告\", icon: \"hos-keshi\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n    { title: \"宣教信息\", icon: \"hos-yisheng\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n  ];\n\n  classOption = {\n    step: 1, // 数值越大速度滚动越快\n    limitMoveNum: 10, // 开始无缝滚动的数据量 this.dataList.length\n    hoverStop: true, // 是否开启鼠标悬停stop\n    direction: 1, // 0向下 1向上 2向左 3向右\n    openWatch: true, // 开启数据实时监控刷新dom\n    singleHeight: 51, // 单步运动停止的高度(默认值0是无缝不停止的滚动) direction => 0/1\n    singleWidth: 0, // 单步运动停止的宽度(默认值0是无缝不停止的滚动) direction => 2/3\n    waitTime: 1000, // 单步运动停止的时间(默认值1000ms)\n  };\n\n  mounted() {\n    this.getData();\n    this.getList();\n  }\n\n  async getData() {\n    const pid = this.$route.query.nurseDepId;\n    const res = await newInfo({ nurseDepId: pid });\n    this.info = res;\n  }\n\n  async getList() {\n    const pid = this.$route.query.nurseDepId;\n    const params = {\n      nurseDepId: pid,\n      pageNo: this.tabList[this.tab].pageNo,\n      pageSize: this.tabList[this.tab].pageSize,\n    };\n    let res: any = null;\n    if (this.tab == 0) {\n      res = await hospitalList(params);\n    } else if (this.tab == 1) {\n      res = await depList(params);\n    } else {\n      res = await xxList(params);\n    }\n    const cur = this.tabList[this.tab];\n    cur.list = res.page.list;\n    cur.total = res.page.count;\n    this.tabList.splice(this.tab, 1, cur);\n  }\n\n  selectTab(tab: number) {\n    this.tab = tab;\n    this.getList();\n  }\n\n  handleCurrentChange() {\n    this.getList();\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.operation_box {\n  margin: 10px 20px;\n  font-size: 18px;\n  .tab_item {\n    padding: 10px 0;\n    margin-right: 30px;\n    cursor: pointer;\n    font-size: 24px;\n    .icon_top {\n      width: 30px;\n      height: 30px;\n      object-fit: contain;\n    }\n  }\n  .selected {\n    color: #0073ff;\n    font-weight: bold;\n  }\n  .title_item {\n    padding: 15px 10px;\n  }\n  .card_box {\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 8px;\n    .list_box {\n      height: calc(100vh - 340px);\n      overflow-y: scroll;\n      .list_item {\n        margin: 30px 30px 0px 30px;\n        font-size: 20px;\n        text-overflow: ellipsis;\n        height: 60px;\n        background: #19448e;\n        border-radius: 8px;\n        padding: 20px 15px;\n        padding-top: 50;\n        padding-bottom: 50;\n        text-decoration: unset;\n        color: #fff;\n      }\n    }\n    ::v-deep .el-pagination {\n      margin: 0 0 5px;\n    }\n  }\n}\n</style>\n"]}]}