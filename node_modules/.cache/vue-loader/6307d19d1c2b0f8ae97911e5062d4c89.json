{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/departmentInfo/index.vue?vue&type=style&index=1&id=43980a86&lang=less&scoped=true&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/departmentInfo/index.vue","mtime":1635235139726},{"path":"/Users/zhc/project/yiyuan/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhdGllbnRzX2RldGFpbF9ib3ggewogIG1hcmdpbjogNDBweDsKICBmb250LXNpemU6IDIwcHg7CiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTYwcHgpOwogIC50aXRsZSB7CiAgICBjb2xvcjogIzAwYTNmZjsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICBmb250LXNpemU6IDI0cHg7CiAgICBwYWRkaW5nOiAyMHB4OwogIH0KCiAgLmNhcmQgewogICAgYm94LXNoYWRvdzogMCAwIDEwcHggIzUzODllMiBpbnNldDsKICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAvLyBwYWRkaW5nOiA0MHB4OwogIH0KICAuaW1nX2JveCB7CiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDI0MHB4KTsKICAgIHBhZGRpbmc6IDAgNDBweCA0MHB4IDQwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgLmltZyB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDg4cHgpOwogICAgICBvYmplY3QtZml0OiBjb250YWluOwogICAgfQogIH0KICAuYWRkX3JlY29yZCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBtYXJnaW4tdG9wOiA0MHB4OwogICAgbWFyZ2luLWJvdHRvbTogODBweDsKICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4ICM1Mzg5ZTIgaW5zZXQ7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgcGFkZGluZzogNDBweDsKICAgIC50aXRsZSB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgdG9wOiAwOwogICAgICBsZWZ0OiA1MCU7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwMDRhOwogICAgfQogIH0KICAub3BlcmF0aW9uX2JveCB7CiAgICBtYXJnaW46IDBweCAwcHg7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICAudGl0bGVfYm94IHsKICAgICAgcGFkZGluZzogMCAzMHB4OwogICAgICBiYWNrZ3JvdW5kOiAjMzE1NThiOwogICAgICBjb2xvcjogd2hpdGU7CiAgICAgIC50aXRsZV9pdGVtIHsKICAgICAgICBwYWRkaW5nOiAxNXB4IDEwcHg7CiAgICAgIH0KICAgIH0KICAgIC5saXN0X2JveCB7CiAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDY4cHggLSA1MXB4IC0gMTYwcHgpOwogICAgICBwYWRkaW5nOiAwIDMwcHg7CiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgLmxpc3RfaXRlbSB7CiAgICAgICAgcGFkZGluZzogMTVweCAwOwogICAgICAgIC5jb2xfaXRlbSB7CiAgICAgICAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5pbmZpbml0ZS1saXN0IHsKICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2OHB4IC0gNTFweCAtIDE2MHB4IC0gMTEwcHgpOwogICAgICAgIC5tZXNzYWdlLWxpc3QtbnVsbHsKICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICAgICAgfQogICAgICAgIGxpIHsKICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgIH0KICAgICAgfQogICAgICAubWVzc2FnZS10aW1lIHsKICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4OwogICAgICB9CiAgICB9CiAgICA6OnYtZGVlcCAuZWwtcGFnaW5hdGlvbiB7CiAgICAgIG1hcmdpbjogMCAwIDVweDsKICAgIH0KICB9CiAgLy8gLnN3aXBlci1jb250YWluZXIgewogIC8vICAgd2lkdGg6IDEwMCU7CiAgLy8gICBoZWlnaHQ6IDEwMCU7CiAgLy8gfQoKICAvLyAuc3dpcGVyLXNsaWRlIHsKICAvLyAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAvLyAgIGZvbnQtc2l6ZTogMThweDsKICAvLyAgIGJhY2tncm91bmQ6ICNmZmY7CiAgLy8gICBoZWlnaHQ6IDIwMHB4OwogIC8vICAgLyogQ2VudGVyIHNsaWRlIHRleHQgdmVydGljYWxseSAqLwogIC8vICAgZGlzcGxheTogLXdlYmtpdC1ib3g7CiAgLy8gICBkaXNwbGF5OiAtbXMtZmxleGJveDsKICAvLyAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDsKICAvLyAgIGRpc3BsYXk6IGZsZXg7CiAgLy8gICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7CiAgLy8gICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7CiAgLy8gICAtd2Via2l0LWp1c3RpZnktY29udGVudDogY2VudGVyOwogIC8vICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgLy8gICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyOwogIC8vICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjsKICAvLyAgIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjsKICAvLyAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgLy8gfQogIC5lbC1jYXJvdXNlbF9faXRlbSBoMyB7CiAgICBjb2xvcjogIzQ3NTY2OTsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIG9wYWNpdHk6IDAuNzU7CiAgICBsaW5lLWhlaWdodDogMjAwcHg7CiAgICBtYXJnaW46IDA7CiAgfQoKICAuZWwtY2Fyb3VzZWxfX2l0ZW06bnRoLWNoaWxkKDJuKSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTlhOWJmOwogIH0KCiAgLmVsLWNhcm91c2VsX19pdGVtOm50aC1jaGlsZCgybiArIDEpIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNkM2RjZTY7CiAgfQogIC5tZXNzYWdlLWJvdHRvbSB7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDAgMjBweCAwIDgwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAubWVzc2FnZS1ib3R0b20taW5wdXQgewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA4MHB4KTsKICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIH0KICAgIC5tZXNzYWdlLWJvdHRvbS1idXR0b24gewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHdpZHRoOiA4MHB4OwogICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/departmentInfo","sourcesContent":["<!--\n * @Author: your name\n * @Date: 2021-10-26 09:14:49\n * @LastEditTime: 2021-10-26 13:53:29\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /yiyuan/src/views/departmentInfo/index.vue\n-->\n<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"patients_detail_box flex\">\n      <div class=\"flex5 flex col\">\n        <div class=\"card img_box flex col\">\n          <div class=\"title t_ct\">荣誉照片</div>\n          <div class=\"img am_c\">\n            <el-carousel :interval=\"4000\" type=\"card\" :height=\"carouselHeight\">\n              <el-carousel-item v-for=\"(item, index) in honorarylist\" :key=\"index\">\n                <img width=\"100%\" :src=\"item.picUrl\" alt=\"\" @click=\"openVideo(item)\" />\n              </el-carousel-item>\n            </el-carousel>\n          </div>\n        </div>\n        <div class=\"card img_box flex col\">\n          <div class=\"title t_ct\">日常记录</div>\n          <div class=\"img am_c\">\n            <el-carousel :interval=\"4000\" type=\"card\" :height=\"carouselHeight\">\n              <el-carousel-item v-for=\"(item, index) in dailyRecordlist\" :key=\"index\">\n                <!-- <h3 class=\"medium\">{{ item }}</h3> -->\n                <img :src=\"item.picUrl\" width=\"100%\" @click=\"openVideo(item)\" />\n              </el-carousel-item>\n            </el-carousel>\n          </div>\n        </div>\n      </div>\n      <div class=\"flex2 card flex col ml_40\">\n        <div class=\"operation_box\">\n          <div class=\"title t_ct\">留言板</div>\n          <div class=\"list_box\">\n            <ul class=\"infinite-list\" style=\"overflow:auto\">\n              <li v-for=\"(item, index) in messageList\" :key=\"index\" class=\"infinite-list-item\">\n                <p v-text=\"item.contents\"></p>\n                <p class=\"message-time\" v-text=\"item.createDate\"></p>\n              </li>\n              <li v-if=\"messageList.length === 0\" class=\"message-list-null\"><el-empty description=\"暂无数据\"></el-empty></li>\n            </ul>\n\n            <el-pagination\n              background\n              @current-change=\"handleCurrentChange\"\n              :current-page.sync=\"messageObj.pageNo\"\n              :page-size=\"messageObj.pageSize\"\n              :total=\"messageObj.count\"\n              layout=\"total, prev, pager, next, jumper\"\n            />\n          </div>\n          <div class=\"message-bottom\">\n            <div class=\"message-bottom-input\">\n              <el-input size=\"medium\" v-model=\"addMessageContext\" />\n            </div>\n            <div class=\"message-bottom-button\">\n              <el-button @click=\"addMessageBoard\" size=\"medium\">发送</el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <el-dialog :visible.sync=\"dialogVisible\" width=\"850px\" :before-close=\"handleClose\" class=\"department-info-dialog\">\n      <video\n        v-if=\"dialogVisible\"\n        :poster=\"dialogVideoInfo.picUrl\"\n        :src=\"dialogVideoInfo.videoUrl\"\n        width=\"800\"\n        height=\"600\"\n        id=\"js_dialogVideo\"\n        autoplay\n      ></video>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Header from \"@/components/Header.vue\";\nimport { fireList, getHonorarylist, getDailyRecordlist, getMessageBoardlist, addMessageBoard } from \"@/api/index\";\nimport \"swiper/swiper-bundle.css\";\nexport default {\n  name: \"DepartmentInfo\",\n  components: { Header },\n  data() {\n    return {\n      info: {},\n      remindlist: [],\n      honorarylist: [],\n      dailyRecordlist: [],\n      dialogVideoInfo: {},\n      messageList: [],\n      messageObj: {},\n      dialogVisible: false,\n      addMessageContext: \"\",\n      page: {\n        pageNo: 1,\n        pageSize: 10\n      },\n      loadding: false,\n      nurseDepId:\"\",\n    };\n  },\n  computed: {\n    carouselHeight() {\n      const innerHeight = Number(window.innerHeight);\n      const height = (innerHeight - 160 - 15) / 2 - 68 - 80;\n\n      return `${height}px`;\n    }\n  },\n  created() {\n    this.getHonorarylist();\n    this.getDailyRecordlist();\n    this.getMessageBoardlist();\n    \n  },\n  mounted(){\n   this.nurseDepId = this.$route.query.nurseDepId;\n  },\n  methods: {\n    getData() {\n      const pid = this.$route.query.nurseDepId;\n      const res = fireList({ nurseDepId: pid });\n      this.info = res;\n    },\n    // 获取荣誉\n    getHonorarylist() {\n      const params = {\n        nurseDepId:this.nurseDepId\n      };\n      getHonorarylist(params)\n        .then(res => {\n          if (res && res.list) {\n            this.honorarylist = res.list;\n          }\n        })\n        .catch(err => {});\n    },\n    // 获取日常\n    getDailyRecordlist() {\n      const params = {\n        nurseDepId:this.nurseDepId\n      };\n      getDailyRecordlist(params)\n        .then(res => {\n          if (res && res.list) {\n            this.dailyRecordlist = res.list;\n          }\n        })\n        .catch(err => {});\n    },\n\n    // 留言板\n    getMessageBoardlist() {\n      const params = {\n        nurseDepId:this.nurseDepId,\n        ...this.page\n      };\n      getMessageBoardlist(params)\n        .then(res => {\n          if (res.page.list) {\n            this.messageObj = res.page;\n            this.messageList = res.page.list;\n          }\n        })\n        .catch(err => {});\n    },\n    openVideo(item) {\n      if (item.videoUrl) this.dialogVisible = true;\n      this.dialogVideoInfo = item;\n    },\n    handleClose() {\n      this.dialogVisible = false;\n    },\n    addMessageBoard() {\n      if (this.addMessageContext) {\n        const params = {\n          nurseDepId:this.nurseDepId,\n          contents: this.addMessageContext\n        };\n        addMessageBoard(params)\n          .then(res => {\n            this.$message.success(\"留言成功\");\n            this.page.pageNo = 1;\n            this.addMessageContext = \"\";\n            this.getMessageBoardlist();\n          })\n          .catch(err => {});\n      }\n    },\n    handleCurrentChange(current) {\n      this.page.pageNo = current;\n      this.getMessageBoardlist();\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.department-info-dialog {\n  .el-dialog {\n    background: #1e3162;\n  }\n}\n</style>\n<style lang=\"less\" scoped>\n.patients_detail_box {\n  margin: 40px;\n  font-size: 20px;\n  height: calc(100vh - 160px);\n  .title {\n    color: #00a3ff;\n    font-weight: 600;\n    font-size: 24px;\n    padding: 20px;\n  }\n\n  .card {\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 12px;\n    // padding: 40px;\n  }\n  .img_box {\n    height: calc(100% - 240px);\n    padding: 0 40px 40px 40px;\n    margin-bottom: 15px;\n    .img {\n      width: 100%;\n      height: calc(100% - 88px);\n      object-fit: contain;\n    }\n  }\n  .add_record {\n    position: relative;\n    margin-top: 40px;\n    margin-bottom: 80px;\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 12px;\n    padding: 40px;\n    .title {\n      position: absolute;\n      top: 0;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: #01004a;\n    }\n  }\n  .operation_box {\n    margin: 0px 0px;\n    font-size: 18px;\n    .title_box {\n      padding: 0 30px;\n      background: #31558b;\n      color: white;\n      .title_item {\n        padding: 15px 10px;\n      }\n    }\n    .list_box {\n      height: calc(100vh - 68px - 51px - 160px);\n      padding: 0 30px;\n      overflow-y: scroll;\n      .list_item {\n        padding: 15px 0;\n        .col_item {\n          padding: 0 10px;\n        }\n      }\n      .infinite-list {\n        height: calc(100vh - 68px - 51px - 160px - 110px);\n        .message-list-null{\n          list-style: none;\n        }\n        li {\n          padding-bottom: 10px;\n        }\n      }\n      .message-time {\n        text-align: right;\n        padding-right: 15px;\n      }\n    }\n    ::v-deep .el-pagination {\n      margin: 0 0 5px;\n    }\n  }\n  // .swiper-container {\n  //   width: 100%;\n  //   height: 100%;\n  // }\n\n  // .swiper-slide {\n  //   text-align: center;\n  //   font-size: 18px;\n  //   background: #fff;\n  //   height: 200px;\n  //   /* Center slide text vertically */\n  //   display: -webkit-box;\n  //   display: -ms-flexbox;\n  //   display: -webkit-flex;\n  //   display: flex;\n  //   -webkit-box-pack: center;\n  //   -ms-flex-pack: center;\n  //   -webkit-justify-content: center;\n  //   justify-content: center;\n  //   -webkit-box-align: center;\n  //   -ms-flex-align: center;\n  //   -webkit-align-items: center;\n  //   align-items: center;\n  // }\n  .el-carousel__item h3 {\n    color: #475669;\n    font-size: 14px;\n    opacity: 0.75;\n    line-height: 200px;\n    margin: 0;\n  }\n\n  .el-carousel__item:nth-child(2n) {\n    background-color: #99a9bf;\n  }\n\n  .el-carousel__item:nth-child(2n + 1) {\n    background-color: #d3dce6;\n  }\n  .message-bottom {\n    width: 100%;\n    padding: 0 20px 0 80px;\n    text-align: center;\n    .message-bottom-input {\n      display: inline-block;\n      width: calc(100% - 80px);\n      text-align: left;\n    }\n    .message-bottom-button {\n      display: inline-block;\n      width: 80px;\n      text-align: right;\n    }\n  }\n}\n</style>\n"]}]}