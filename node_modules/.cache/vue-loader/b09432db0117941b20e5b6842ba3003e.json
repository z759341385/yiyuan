{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/sign/index.vue?vue&type=style&index=0&id=f6aba0cc&lang=less&scoped=true&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/sign/index.vue","mtime":1635209544917},{"path":"/Users/zhc/project/yiyuan/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhZ2UgewogIGNvbG9yOiAjYmRmMGZjOwogIC5pbmZvX2JveCB7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIGZvbnQtc2l6ZTogMjZweDsKICAgIC53dGhfNjBwIHsKICAgICAgd2lkdGg6IDYwJTsKICAgIH0KICAgIC5pbmZvX2JsdWUgewogICAgICBjb2xvcjogIzUzODllMjsKICAgIH0KICAgIC5zZWNfaWNvbiB7CiAgICAgIHdpZHRoOiAzMHB4OwogICAgICBoZWlnaHQ6IDMwcHg7CiAgICB9CiAgfQogIC50YWJfYm94IHsKICAgIC50YWJfaXRlbSB7CiAgICAgIHBhZGRpbmc6IDEwcHggMDsKICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4OwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGZvbnQtc2l6ZTogMjhweDsKICAgICAgY29sb3I6ICM3OWE3ZGY7CiAgICB9CiAgICAuc2VsZWN0ZWQgewogICAgICBjb2xvcjogI2ZmZmZmZjsKICAgIH0KICB9CiAgLmNhcmRfYm94IHsKICAgIC5jYXJkX2l0ZW0gewogICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgIG1hcmdpbjogMTBweDsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjNTM4OWUyIGluc2V0OwogICAgICAudGl0bGVfYm94IHsKICAgICAgICBib3JkZXItcmFkaXVzOiA4cHggOHB4IDAgMDsKICAgICAgICBiYWNrZ3JvdW5kOiAjMzE1NThiOwogICAgICB9CiAgICAgIC5yb3dfYm94IHsKICAgICAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIC5yb3dfaXRlbSB7CiAgICAgICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgICAgICBoZWlnaHQ6IDUwcHg7CiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmxpc3RfYm94IHsKICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDUwcHgpOwogICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgfQogICAgICAudmUtbGluZSB7CiAgICAgICAgbWFyZ2luOiAwIDIwcHg7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/sign","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"p_20\">\n      <div class=\"info_box\" ref=\"infoBoxRef\">\n        <div class=\"flex wth_60p\">\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">姓名：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.name }}</span>\n          </div>\n          <div class=\"flex am_c flex1 mr_20\">\n            <span class=\"info_blue\">性别：</span>\n            <div class=\"c_ff mr_10\">{{ info.patientInfo.sex }}</div>\n            <img v-if=\"info.patientInfo.sex == '男'\" :src=\"require('@/assets/images/man.png')\" class=\"sec_icon\" alt=\"\" />\n            <img v-else-if=\"info.patientInfo.sex == '女'\" :src=\"require('@/assets/images/woman.png')\" class=\"sec_icon\" alt=\"\" />\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">年龄：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.age }}岁</span>\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">病案号：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.sickNum }}</span>\n          </div>\n        </div>\n        <div class=\"flex wth_60p mt_20\">\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">主治医生：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.chargeDoctorName }}</span>\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">责任护士：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.chargeNurseName }}</span>\n          </div>\n          <div class=\"flex flex2 mr_40\">\n            <span class=\"info_blue\">入院时间：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.admissionTime }}</span>\n          </div>\n        </div>\n        <div class=\"flex mt_20\">\n          <span class=\"info_blue\">入院诊断：</span>\n          <span class=\"c_ff\">{{ info.patientInfo.illnessState }}</span>\n        </div>\n      </div>\n      <div class=\"tab_box flex am_c pl_20\" ref=\"tabBoxRef\">\n        <div class=\"tab_item\" v-for=\"(item, index) in tabList\" :key=\"item.text\" :class=\"{ selected: tab === index }\" @click=\"selectTab(index)\">\n          {{ item.text }}\n        </div>\n      </div>\n      <div class=\"card_box flex am_c\" :style=\"{ height: cardHeightStr }\">\n        <div class=\"card_item flex1\">\n          <div class=\"row_box title_box flex\">\n            <div v-for=\"item in tabList[tab].tableHeader\" :key=\"item.label\" class=\"row_item t_ct\" :style=\"item.style\">{{ item.label }}</div>\n          </div>\n          <div class=\"list_box\">\n            <div v-for=\"item in tabList[tab].list\" :key=\"item.label\" class=\"row_box flex am_c\">\n              <div v-for=\"header in tabList[tab].tableHeader\" :key=\"header.label\" class=\"row_item t_ct\" :style=\"header.style\">\n                {{ item[header.eng] }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"card_item flex2 pt_20 pb_20\">\n          <!-- <ve-line :data=\"tabList[tab].chartData\" :settings=\"{ yAxisName: tabList[tab].text }\"></ve-line> -->\n          <ve-line :data=\"tabList[tab].chartData\" :extend=\"chartExtend\" :settings=\"{ yAxisName: [tabList[tab].text] }\" height=\"100%\"></ve-line>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport VeLine from \"v-charts/lib/line\";\nimport Header from \"@/components/Header.vue\";\nimport SwiperView from \"@/components/SwiperView.vue\";\nimport { vitalSignsList } from \"@/api/index\";\n// const info = require(\"@/assets/info.js\").json;\n\n@Component({\n  name: \"SignDetection\",\n  components: { Header, VeLine, SwiperView },\n})\nexport default class extends Vue {\n  info: any = {\n    patientInfo: {},\n  };\n  tab = 0;\n  chartExtend = {\n    \"title.color\": \"white\",\n    \"xAxis.0.axisLabel.color\": \"white\", //x轴文本颜色\n    \"yAxis.0.axisLabel.color\": \"white\", //y轴文本改变颜色\n    legend: {\n      textStyle: {\n        color: \"white\",\n      },\n    },\n  };\n\n  tabList: any = [\n    {\n      text: \"体温\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"体温\", eng: \"temperature\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"tempDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"体温\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"脉搏\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"脉搏\", eng: \"pulse\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"pulseDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"脉搏\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"呼吸\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"呼吸\", eng: \"breatheRate\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"breathDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"呼吸\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"血压\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"血压\", eng: \"bloodPressure\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"pressureDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"高压\", \"低压\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"血氧\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"血氧\", eng: \"bloodOxygen\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"bloodOxygenDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"血氧\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"血糖\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"血糖\", eng: \"bloodSugar\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"bloodSugarDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"血糖\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"心电监护\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"状态\", eng: \"ecgMonitorState\", style: \"flex: 1\" },\n        { label: \"测量时间\", eng: \"ecgMonitorDate\", style: \"flex: 2\" },\n        { label: \"护士\", eng: \"nurseName\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"测量时间\", \"状态\"],\n        rows: [],\n      },\n    },\n    {\n      text: \"核酸检测\",\n      pageNo: 1,\n      pageSize: 20,\n      total: 0,\n      list: [],\n      tableHeader: [\n        { label: \"检测结果\", eng: \"natResults\", style: \"flex: 1\" },\n        { label: \"检测日期\", eng: \"natDate\", style: \"flex: 2\" },\n        { label: \"检测机构\", eng: \"natFacility\", style: \"flex: 1\" },\n      ],\n      chartData: {\n        columns: [\"检测日期\", \"检测结果\"],\n        rows: [],\n      },\n    },\n  ];\n\n  otherHeight = 226;\n\n  get cardHeightStr() {\n    return `calc(100vh - 250px - ${this.otherHeight}px)`;\n  }\n\n  mounted() {\n    this.getData();\n  }\n\n  async getData() {\n    const id = this.$route.params.id;\n    const pid = this.$route.query.nurseDepId;\n    const res: any = await vitalSignsList({ patientId: id, nurseDepId: pid });\n    this.info = res;\n    this.tabList[0].list = res.temperature;\n    this.tabList[1].list = res.pulse;\n    this.tabList[2].list = res.breathe;\n    this.tabList[3].list = res.bloodPressure;\n    this.tabList[4].list = res.bloodOxygen;\n    this.tabList[5].list = res.bloodSugar;\n    this.tabList[6].list = res.ecgMonitoring;\n    this.tabList[7].list = res.nat;\n    this.tabList[0].chartData.rows = res.temperature.map((d: any) => {\n      return { 测量时间: d.tempDate, 体温: d.temperature };\n    });\n    this.tabList[1].chartData.rows = res.pulse.map((d: any) => {\n      return { 测量时间: d.pulseDate, 脉搏: d.pulse };\n    });\n    this.tabList[2].chartData.rows = res.breathe.map((d: any) => {\n      return { 测量时间: d.breatheDate, 呼吸: d.breatheRate };\n    });\n    this.tabList[3].chartData.rows = res.bloodPressure.map((d: any) => {\n      const blood = d.bloodPressure.split(\"-\");\n      return { 测量时间: d.pressureDate, 高压: blood[1], 低压: blood[0] };\n    });\n    this.tabList[4].chartData.rows = res.bloodOxygen.map((d: any) => {\n      return { 测量时间: d.bloodOxygenDate, 血氧: d.bloodOxygen };\n    });\n    this.tabList[5].chartData.rows = res.bloodSugar.map((d: any) => {\n      return { 测量时间: d.bloodSugarDate, 血糖: d.bloodSugar };\n    });\n    this.tabList[6].chartData.rows = res.ecgMonitoring.map((d: any) => {\n      return { 测量时间: d.ecgMonitorDate, 心电监护: d.ecgMonitorState };\n    });\n    this.tabList[7].chartData.rows = res.nat.map((d: any) => {\n      return { 检测日期: d.natDate, 核酸检测: d.natResults };\n    });\n    this.$nextTick(() => {\n      const heightInfo = (this.$refs.infoBoxRef as HTMLFormElement).offsetHeight;\n      const heightTab = (this.$refs.tabBoxRef as HTMLFormElement).offsetHeight;\n      this.otherHeight = heightInfo + heightTab;\n    });\n  }\n\n  selectTab(tab: number) {\n    this.tab = tab;\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.page {\n  color: #bdf0fc;\n  .info_box {\n    padding: 20px;\n    margin-bottom: 10px;\n    font-size: 26px;\n    .wth_60p {\n      width: 60%;\n    }\n    .info_blue {\n      color: #5389e2;\n    }\n    .sec_icon {\n      width: 30px;\n      height: 30px;\n    }\n  }\n  .tab_box {\n    .tab_item {\n      padding: 10px 0;\n      margin-right: 30px;\n      cursor: pointer;\n      font-size: 28px;\n      color: #79a7df;\n    }\n    .selected {\n      color: #ffffff;\n    }\n  }\n  .card_box {\n    .card_item {\n      height: 100%;\n      margin: 10px;\n      border-radius: 8px;\n      box-shadow: 0 0 10px #5389e2 inset;\n      .title_box {\n        border-radius: 8px 8px 0 0;\n        background: #31558b;\n      }\n      .row_box {\n        padding: 0 15px;\n        color: white;\n        .row_item {\n          font-size: 20px;\n          height: 50px;\n          line-height: 50px;\n        }\n      }\n      .list_box {\n        height: calc(100% - 50px);\n        overflow-y: scroll;\n      }\n      .ve-line {\n        margin: 0 20px;\n      }\n    }\n  }\n}\n</style>\n"]}]}