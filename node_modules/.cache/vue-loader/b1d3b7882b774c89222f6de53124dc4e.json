{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/announcement/home/index.vue?vue&type=style&index=0&id=78f72180&lang=less&scoped=true&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/announcement/home/index.vue","mtime":1635209544912},{"path":"/Users/zhc/project/yiyuan/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5vcGVyYXRpb25fYm94IHsKICBtYXJnaW46IDEwcHggMjBweDsKICBmb250LXNpemU6IDE4cHg7CiAgLnRhYl9pdGVtIHsKICAgIHBhZGRpbmc6IDEwcHggMDsKICAgIG1hcmdpbi1yaWdodDogMzBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMjRweDsKICAgIC5pY29uX3RvcCB7CiAgICAgIHdpZHRoOiAzMHB4OwogICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47CiAgICB9CiAgfQogIC5zZWxlY3RlZCB7CiAgICBjb2xvcjogIzAwNzNmZjsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogIH0KICAudGl0bGVfaXRlbSB7CiAgICBwYWRkaW5nOiAxNXB4IDEwcHg7CiAgfQogIC5jYXJkX2JveCB7CiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjNTM4OWUyIGluc2V0OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgLmxpc3RfYm94IHsKICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMzQwcHgpOwogICAgICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgICAgIC5saXN0X2l0ZW0gewogICAgICAgIG1hcmdpbjogMzBweCAzMHB4IDBweCAzMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICBoZWlnaHQ6IDYwcHg7CiAgICAgICAgYmFja2dyb3VuZDogIzE5NDQ4ZTsKICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgcGFkZGluZzogMjBweCAxNXB4OwogICAgICAgIHBhZGRpbmctdG9wOiA1MDsKICAgICAgICBwYWRkaW5nLWJvdHRvbTogNTA7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bnNldDsKICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgfQogICAgfQogICAgOjp2LWRlZXAgLmVsLXBhZ2luYXRpb24gewogICAgICBtYXJnaW46IDAgMCA1cHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/announcement/home","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"operation_box\">\n      <div class=\"flex am_c\">\n        <div\n          v-for=\"(item, index) in tabList\"\n          :key=\"item.title\"\n          class=\"tab_item flex am_c\"\n          :class=\"{ selected: tab === index }\"\n          @click=\"selectTab(index)\"\n        >\n          <div>{{ item.title }}</div>\n          <!-- <img class=\"icon_top ml_5\" :src=\"item.icon\" alt=\"\" /> -->\n          <i :class=\"[item.icon, 'f28 ml_5']\" />\n        </div>\n      </div>\n      <div v-for=\"(tabItem, index) in tabList\" :key=\"tabItem.title\" class=\"card_box\">\n        <div v-if=\"tab == index\" class=\"list_box\">\n          <router-link\n            :to=\"{ path: `/announcement/detail/${item.id}?nurseDepId=${$route.query.nurseDepId}` }\"\n            v-for=\"item in tabItem.list\"\n            :key=\"item.id\"\n            class=\"list_item flex am_c\"\n          >\n            <div v-if=\"item.newsType == '医院公告'\" class=\"hos-yiyuan f24 mr_10\"></div>\n            <div v-else-if=\"item.newsType == '病区公告'\" class=\"hos-keshi f24 mr_10\"></div>\n            <div v-else-if=\"item.newsType == '宣教信息'\" class=\"hos-yisheng f24 mr_10\"></div>\n            <div>{{ item.title }}</div>\n          </router-link>\n        </div>\n        <el-pagination\n          v-if=\"tab == index\"\n          background\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"tabList[tab].pageNo\"\n          :page-size=\"tabList[tab].pageSize\"\n          :total=\"tabList[tab].total\"\n          layout=\"total, prev, pager, next, jumper\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Header from \"@/components/Header.vue\";\nimport vueSeamlessScroll from \"vue-seamless-scroll\";\nimport { newInfo, hospitalList, depList, xxList } from \"@/api/index\";\n// const info = require(\"@/assets/notice.js\").json;\n\n@Component({\n  name: \"AnnouncementHome\",\n  components: { Header, vueSeamlessScroll },\n})\nexport default class extends Vue {\n  info: any = {};\n\n  tab = 0;\n\n  tabList = [\n    { title: \"全院公告\", icon: \"hos-yiyuan\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n    { title: \"病区公告\", icon: \"hos-keshi\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n    { title: \"宣教信息\", icon: \"hos-yisheng\", pageNo: 1, pageSize: 20, total: 0, list: [] },\n  ];\n\n  classOption = {\n    step: 1, // 数值越大速度滚动越快\n    limitMoveNum: 10, // 开始无缝滚动的数据量 this.dataList.length\n    hoverStop: true, // 是否开启鼠标悬停stop\n    direction: 1, // 0向下 1向上 2向左 3向右\n    openWatch: true, // 开启数据实时监控刷新dom\n    singleHeight: 51, // 单步运动停止的高度(默认值0是无缝不停止的滚动) direction => 0/1\n    singleWidth: 0, // 单步运动停止的宽度(默认值0是无缝不停止的滚动) direction => 2/3\n    waitTime: 1000, // 单步运动停止的时间(默认值1000ms)\n  };\n\n  mounted() {\n    this.getData();\n    this.getList();\n  }\n\n  async getData() {\n    const pid = this.$route.query.nurseDepId;\n    const res = await newInfo({ nurseDepId: pid });\n    this.info = res;\n  }\n\n  async getList() {\n    const pid = this.$route.query.nurseDepId;\n    const params = {\n      nurseDepId: pid,\n      pageNo: this.tabList[this.tab].pageNo,\n      pageSize: this.tabList[this.tab].pageSize,\n    };\n    let res: any = null;\n    if (this.tab == 0) {\n      res = await hospitalList(params);\n    } else if (this.tab == 1) {\n      res = await depList(params);\n    } else {\n      res = await xxList(params);\n    }\n    const cur = this.tabList[this.tab];\n    cur.list = res.page.list;\n    cur.total = res.page.count;\n    this.tabList.splice(this.tab, 1, cur);\n  }\n\n  selectTab(tab: number) {\n    this.tab = tab;\n    this.getList();\n  }\n\n  handleCurrentChange() {\n    this.getList();\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.operation_box {\n  margin: 10px 20px;\n  font-size: 18px;\n  .tab_item {\n    padding: 10px 0;\n    margin-right: 30px;\n    cursor: pointer;\n    font-size: 24px;\n    .icon_top {\n      width: 30px;\n      height: 30px;\n      object-fit: contain;\n    }\n  }\n  .selected {\n    color: #0073ff;\n    font-weight: bold;\n  }\n  .title_item {\n    padding: 15px 10px;\n  }\n  .card_box {\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 8px;\n    .list_box {\n      height: calc(100vh - 340px);\n      overflow-y: scroll;\n      .list_item {\n        margin: 30px 30px 0px 30px;\n        font-size: 20px;\n        text-overflow: ellipsis;\n        height: 60px;\n        background: #19448e;\n        border-radius: 8px;\n        padding: 20px 15px;\n        padding-top: 50;\n        padding-bottom: 50;\n        text-decoration: unset;\n        color: #fff;\n      }\n    }\n    ::v-deep .el-pagination {\n      margin: 0 0 5px;\n    }\n  }\n}\n</style>\n"]}]}