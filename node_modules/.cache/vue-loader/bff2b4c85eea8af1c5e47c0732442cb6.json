{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/handover/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/handover/index.vue","mtime":1635211491693},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhc/project/yiyuan/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IEhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSI7CmltcG9ydCB7IHNoaWZ0TGlzdCwgc2hpZnRSZXBvcnRMaXN0IH0gZnJvbSAiQC9hcGkvaW5kZXgiOwoKQENvbXBvbmVudCh7CiAgbmFtZTogIkhhbmRvdmVyIiwKICBjb21wb25lbnRzOiB7IEhlYWRlciB9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFZ1ZSB7CiAgaW5mbzogYW55ID0gewogICAgcmVwb3J0RGF5OiAiIiwKICB9OwogIHNlbGVjdERhdGE6IGFueSA9ICIiOwogIHJlcG9ydGxpc3QgPSBbXTsKICBwYWdlID0gewogICAgcGFnZU5vOiAxLAogICAgcGFnZVNpemU6IDMwLAogICAgY291bnQ6IDAsCiAgfTsKICBvdGhlckhlaWdodCA9IDE0NTsKICBpc0xvYWRpbmcgPSBmYWxzZTsKCiAgZ2V0IGNhcmRIZWlnaHRTdHIoKSB7CiAgICByZXR1cm4gYGNhbGMoMTAwdmggLSA0MTZweCAtICR7dGhpcy5vdGhlckhlaWdodH1weClgOwogIH0KCiAgdG9wVGl0bGVMaXN0ID0gWwogICAgeyBsYWJlbDogIuS6uuWRmCIsIGVuZzogInJlcG9ydFVzZXIiLCBzdHlsZTogImZsZXg6IDE7Y29sb3I6IHdoaXRlIiB9LAogICAgeyBsYWJlbDogIuePreasoSIsIGVuZzogInNjaGVkdWxpbmdUeXBlIiwgc3R5bGU6ICJmbGV4OiAxO2NvbG9yOiB3aGl0ZSIgfSwKICAgIHsgbGFiZWw6ICLljp/mnIkiLCBlbmc6ICJwcmV2aW91c051bSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLlhaXpmaIiLCBlbmc6ICJlbnRlckhvc3B0aWFsTnVtIiwgc3R5bGU6ICJmbGV4OiAxIiB9LAogICAgeyBsYWJlbDogIuWHuumZoiIsIGVuZzogImxlYXZlSG9zcHRpYWxOdW0iLCBzdHlsZTogImZsZXg6IDEiIH0sCiAgICB7IGxhYmVsOiAi6L2s5YWlIiwgZW5nOiAidHJhbnNmZXJJbk51bSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLovazlh7oiLCBlbmc6ICJ0cmFuc2Zlck91dE51bSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLnl4XljbEiLCBlbmc6ICJjcml0aWNhbGx5SWxsTnVtIiwgc3R5bGU6ICJmbGV4OiAxIiB9LAogICAgeyBsYWJlbDogIueXhemHjSIsIGVuZzogInNlcmlvdXNJbGxOdW0iLCBzdHlsZTogImZsZXg6IDEiIH0sCiAgICB7IGxhYmVsOiAi5omL5pyvIiwgZW5nOiAib3BlcmF0aW9uTnVtIiwgc3R5bGU6ICJmbGV4OiAxIiB9LAogICAgeyBsYWJlbDogIuWIhuWoqSIsIGVuZzogImNoaWxkYmlydGhOdW0iLCBzdHlsZTogImZsZXg6IDEiIH0sCiAgICB7IGxhYmVsOiAi5am05YS/IiwgZW5nOiAiYmFieU51bSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLmrbvkuqEiLCBlbmc6ICJkZWF0aE51bSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLlrp7mnIkiLCBlbmc6ICJyZWFsTnVtIiwgc3R5bGU6ICJmbGV4OiAxIiB9LAogIF07CgogIHRpdGxlTGlzdCA9IFsKICAgIHsgbGFiZWw6ICLnsbvlnosiLCBlbmc6ICJzY2hlZHVsaW5nVHlwZSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLluorlj7ciLCBlbmc6ICJiZWRObyIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLlp5PlkI0iLCBlbmc6ICJwYXRpZW50TmFtZSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLor4rmlq0iLCBlbmc6ICJkaWFnbm9zaXMiLCBzdHlsZTogImZsZXg6IDMiIH0sCiAgICB7IGxhYmVsOiAi5Lqk54+t5YaF5a65IiwgZW5nOiAic2hpZnRDb250ZW50Iiwgc3R5bGU6ICJmbGV4OiAzIiB9LAogIF07CgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNlbGVjdERhdGEgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZXBvcnREYXkgfHwgIiI7CiAgICB0aGlzLmdldERhdGEoKTsKICAgIHRoaXMuc2hpZnRSZXBvcnRMaXN0KCk7CiAgfQoKICBhc3luYyBnZXREYXRhKCkgewogICAgY29uc3QgcGlkID0gdGhpcy4kcm91dGUucXVlcnkubnVyc2VEZXBJZDsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNoaWZ0TGlzdCh7IG51cnNlRGVwSWQ6IHBpZCwgcmVwb3J0RGF5OiB0aGlzLnNlbGVjdERhdGEgfSk7CiAgICB0aGlzLmluZm8gPSByZXM7CiAgfQoKICBhc3luYyBzaGlmdFJlcG9ydExpc3QoKSB7CiAgICBjb25zdCBwaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5udXJzZURlcElkOwogICAgY29uc3QgcmVzOiBhbnkgPSBhd2FpdCBzaGlmdFJlcG9ydExpc3QoeyBudXJzZURlcElkOiBwaWQsIHBhZ2VObzogdGhpcy5wYWdlLnBhZ2VObywgcGFnZVNpemU6IHRoaXMucGFnZS5wYWdlU2l6ZSwgcmVwb3J0RGF5OiB0aGlzLnNlbGVjdERhdGEgfSk7CiAgICB0aGlzLnBhZ2UgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBhZ2UsIHJlcy5wYWdlKTsKICAgIHRoaXMuaW5mby5yZXBvcnREYXkgPSByZXMucmVwb3J0RGF5OwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLm90aGVySGVpZ2h0ID0gKHRoaXMuJHJlZnMuaW5mb0JveFJlZiBhcyBIVE1MRm9ybUVsZW1lbnQpLm9mZnNldEhlaWdodDsKICAgIH0pOwogIH0KCiAgaGFuZGxlQ3VycmVudENoYW5nZSgpIHsKICAgIHRoaXMuc2hpZnRSZXBvcnRMaXN0KCk7CiAgfQoKICBhc3luYyByZWZlclRvKCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5nZXREYXRhKCksIHRoaXMuc2hpZnRSZXBvcnRMaXN0KCldKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/handover","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"page_box\">\n      <div class=\"top_box flex\" ref=\"infoBoxRef\">\n        <div class=\"top_left_box flex col am_c ju_c\">\n          <div class=\"time_title\">日期</div>\n          <div class=\"time mt_10\">{{ info.reportDay }}</div>\n        </div>\n        <div class=\"flex1 right_box\">\n          <div class=\"flex am_c\">\n            <div v-for=\"(tab, index) in topTitleList\" :key=\"`${tab.label}_${index}`\" class=\"t_ct top_title_item\" :style=\"tab.style\">\n              {{ tab.label }}\n            </div>\n          </div>\n          <div class=\"flex am_c top_list_item\" v-for=\"(item, idx) in info.shiftlist\" :key=\"`${item.reportUser}_${idx}`\">\n            <div v-for=\"(tab, index) in topTitleList\" :key=\"`${item[tab.eng]}_${tab.label}_${index}`\" class=\"t_ct top_col_item\" :style=\"tab.style\">\n              {{ item[tab.eng] }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"content_box\">\n        <div class=\"title_box flex am_c\">\n          <div v-for=\"(item, index) in titleList\" :key=\"`con_${item.label}_${index}`\" class=\"flex col am_c title_item\" :style=\"item.style\">\n            <div>{{ item.label }}</div>\n          </div>\n        </div>\n        <div class=\"list_box\" :style=\"{ height: cardHeightStr }\">\n          <div v-for=\"item in page.list\" :key=\"item.label\" class=\"flex am_c list_item\">\n            <div v-for=\"(tab, index) in titleList\" :key=\"`${item[tab.eng]}_${tab.label}_${index}`\" class=\"t_ct col_item\" :style=\"tab.style\">\n              {{ item[tab.eng] }}\n            </div>\n          </div>\n        </div>\n        <el-pagination\n          background\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"page.pageNo\"\n          :page-size=\"page.pageSize\"\n          :total=\"page.count\"\n          layout=\"total, prev, pager, next, jumper\"\n        />\n      </div>\n      <div class=\"bot_box flex am_c\">\n        <div class=\"title\">选择日期</div>\n        <el-date-picker v-model=\"selectData\" type=\"date\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\"></el-date-picker>\n        <el-button class=\"ml_30 refer_to\" type=\"primary\" :loading=\"isLoading\" @click=\"referTo()\">调阅</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Header from \"@/components/Header.vue\";\nimport { shiftList, shiftReportList } from \"@/api/index\";\n\n@Component({\n  name: \"Handover\",\n  components: { Header },\n})\nexport default class extends Vue {\n  info: any = {\n    reportDay: \"\",\n  };\n  selectData: any = \"\";\n  reportlist = [];\n  page = {\n    pageNo: 1,\n    pageSize: 30,\n    count: 0,\n  };\n  otherHeight = 145;\n  isLoading = false;\n\n  get cardHeightStr() {\n    return `calc(100vh - 416px - ${this.otherHeight}px)`;\n  }\n\n  topTitleList = [\n    { label: \"人员\", eng: \"reportUser\", style: \"flex: 1;color: white\" },\n    { label: \"班次\", eng: \"schedulingType\", style: \"flex: 1;color: white\" },\n    { label: \"原有\", eng: \"previousNum\", style: \"flex: 1\" },\n    { label: \"入院\", eng: \"enterHosptialNum\", style: \"flex: 1\" },\n    { label: \"出院\", eng: \"leaveHosptialNum\", style: \"flex: 1\" },\n    { label: \"转入\", eng: \"transferInNum\", style: \"flex: 1\" },\n    { label: \"转出\", eng: \"transferOutNum\", style: \"flex: 1\" },\n    { label: \"病危\", eng: \"criticallyIllNum\", style: \"flex: 1\" },\n    { label: \"病重\", eng: \"seriousIllNum\", style: \"flex: 1\" },\n    { label: \"手术\", eng: \"operationNum\", style: \"flex: 1\" },\n    { label: \"分娩\", eng: \"childbirthNum\", style: \"flex: 1\" },\n    { label: \"婴儿\", eng: \"babyNum\", style: \"flex: 1\" },\n    { label: \"死亡\", eng: \"deathNum\", style: \"flex: 1\" },\n    { label: \"实有\", eng: \"realNum\", style: \"flex: 1\" },\n  ];\n\n  titleList = [\n    { label: \"类型\", eng: \"schedulingType\", style: \"flex: 1\" },\n    { label: \"床号\", eng: \"bedNo\", style: \"flex: 1\" },\n    { label: \"姓名\", eng: \"patientName\", style: \"flex: 1\" },\n    { label: \"诊断\", eng: \"diagnosis\", style: \"flex: 3\" },\n    { label: \"交班内容\", eng: \"shiftContent\", style: \"flex: 3\" },\n  ];\n\n  mounted() {\n    this.selectData = this.$route.query.reportDay || \"\";\n    this.getData();\n    this.shiftReportList();\n  }\n\n  async getData() {\n    const pid = this.$route.query.nurseDepId;\n    const res = await shiftList({ nurseDepId: pid, reportDay: this.selectData });\n    this.info = res;\n  }\n\n  async shiftReportList() {\n    const pid = this.$route.query.nurseDepId;\n    const res: any = await shiftReportList({ nurseDepId: pid, pageNo: this.page.pageNo, pageSize: this.page.pageSize, reportDay: this.selectData });\n    this.page = Object.assign({}, this.page, res.page);\n    this.info.reportDay = res.reportDay;\n    this.$nextTick(() => {\n      this.otherHeight = (this.$refs.infoBoxRef as HTMLFormElement).offsetHeight;\n    });\n  }\n\n  handleCurrentChange() {\n    this.shiftReportList();\n  }\n\n  async referTo() {\n    try {\n      this.isLoading = true;\n      await Promise.all([this.getData(), this.shiftReportList()]);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.page {\n  padding: 100px 30px 30px 30px;\n  .page_box {\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 12px;\n    .top_box {\n      .top_left_box {\n        padding: 10px 50px;\n        .time_title {\n          color: #00a3ff;\n          font-size: 28px;\n        }\n        .time {\n          color: #ffffff;\n          font-size: 28px;\n        }\n      }\n      .right_box {\n        .top_title_item {\n          padding: 5px 0;\n        }\n        .top_list_item {\n          padding: 5px 0;\n          .top_col_item {\n            padding: 0 10px;\n            color: white;\n          }\n        }\n      }\n    }\n    .content_box {\n      margin: 0px 0px;\n      font-size: 18px;\n      .title_box {\n        padding: 0 30px;\n        background: #31558b;\n        color: white;\n        .title_item {\n          padding: 15px 10px;\n        }\n      }\n      .list_box {\n        // height: calc(100vh - 68px - 51px - 160px - 61px);\n        padding: 0 30px;\n        overflow-y: scroll;\n        .list_item {\n          padding: 15px 0;\n          .col_item {\n            padding: 0 10px;\n          }\n        }\n      }\n      ::v-deep .el-pagination {\n        margin: 0;\n        border-bottom: 1px solid #79a7df;\n      }\n    }\n    .bot_box {\n      padding: 10px 30px 15px;\n      .title {\n        color: #00a3ff;\n        font-size: 26px;\n        font-weight: 600;\n        margin-right: 30px;\n      }\n      .refer_to {\n        font-size: 22px;\n        padding: 0 20px;\n        height: 40px;\n      }\n    }\n  }\n}\n</style>\n"]}]}