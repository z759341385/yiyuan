{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/risk/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/risk/index.vue","mtime":1634718303619},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhc/project/yiyuan/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9IZWFkZXIudnVlIjsKaW1wb3J0IFN3aXBlclZpZXcgZnJvbSAiQC9jb21wb25lbnRzL1N3aXBlclZpZXcudnVlIjsKaW1wb3J0IHsgcmlza2xpc3QgfSBmcm9tICJAL2FwaS9pbmRleCI7Ci8vIGNvbnN0IGluZm8gPSByZXF1aXJlKCJAL2Fzc2V0cy9pbmZvLmpzIikuanNvbjsKCkBDb21wb25lbnQoewogIG5hbWU6ICJSaXNrUmVjb3JkIiwKICBjb21wb25lbnRzOiB7IEhlYWRlciwgU3dpcGVyVmlldyB9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFZ1ZSB7CiAgaW5mbzogYW55ID0gewogICAgcGF0aWVudEluZm86IHt9LAogICAgcmlza0FycjogW10sCiAgfTsKCiAgdGFiID0gMDsKICB0YWJsZUhlYWRlciA9IFsKICAgIHsgbGFiZWw6ICLor4TkvLDml7bpl7QiLCBlbmc6ICJsb2dEYXRlIiwgc3R5bGU6ICJmbGV4OiAyIiB9LAogICAgeyBsYWJlbDogIuivhOWIhiIsIGVuZzogInJpc2tTY29yZSIsIHN0eWxlOiAiZmxleDogMSIgfSwKICAgIHsgbGFiZWw6ICLmiqTnkIbmjqrmlr0iLCBlbmc6ICJudXJzaW5nTWVhc3VyZXMiLCBzdHlsZTogImZsZXg6IDIiIH0sCiAgICB7IGxhYmVsOiAi5oqk55CG57uT5p6cIiwgZW5nOiAiZXZhbHVhdGVSZXN1bHRzIiwgc3R5bGU6ICJmbGV4OiAyIiB9LAogICAgeyBsYWJlbDogIuivhOS8sOS6uuWRmCIsIGVuZzogImxvZ1VzZXJOYW1lIiwgc3R5bGU6ICJmbGV4OiAxIiB9LAogICAgeyBsYWJlbDogIuWGjeivhOS8sOaXtumXtCIsIGVuZzogImV4cGVjdE5leHREYXRlIiwgc3R5bGU6ICJmbGV4OiAyIiB9LAogIF07CgogIG90aGVySGVpZ2h0ID0gMjMxOwoKICBnZXQgY2FyZEhlaWdodFN0cigpIHsKICAgIHJldHVybiBgY2FsYygxMDB2aCAtIDI2MHB4IC0gNTBweCAtICR7dGhpcy5vdGhlckhlaWdodH1weClgOwogIH0KCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KCiAgYXN5bmMgZ2V0RGF0YSgpIHsKICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgY29uc3QgcGlkID0gdGhpcy4kcm91dGUucXVlcnkubnVyc2VEZXBJZDsKICAgIGNvbnN0IHJlczogYW55ID0gYXdhaXQgcmlza2xpc3QoeyBwYXRpZW50SWQ6IGlkLCBudXJzZURlcElkOiBwaWQgfSk7CiAgICB0aGlzLmluZm8gPSByZXM7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIGNvbnN0IGhlaWdodEluZm8gPSAodGhpcy4kcmVmcy5pbmZvQm94UmVmIGFzIEhUTUxGb3JtRWxlbWVudCkub2Zmc2V0SGVpZ2h0OwogICAgICBjb25zdCBoZWlnaHRUYWIgPSAodGhpcy4kcmVmcy50YWJCb3hSZWYgYXMgSFRNTEZvcm1FbGVtZW50KS5vZmZzZXRIZWlnaHQ7CiAgICAgIHRoaXMub3RoZXJIZWlnaHQgPSBoZWlnaHRJbmZvICsgaGVpZ2h0VGFiOwogICAgfSk7CiAgfQoKICBzZWxlY3RUYWIodGFiOiBudW1iZXIpIHsKICAgIHRoaXMudGFiID0gdGFiOwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/risk","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"p_20\">\n      <div class=\"info_box\" ref=\"infoBoxRef\">\n        <div class=\"flex wth_60p\">\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">姓名：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.name }}</span>\n          </div>\n          <div class=\"flex am_c flex1 mr_20\">\n            <span class=\"info_blue\">性别：</span>\n            <div class=\"c_ff mr_10\">{{ info.patientInfo.sex }}</div>\n            <img v-if=\"info.patientInfo.sex == '男'\" :src=\"require('@/assets/images/man.png')\" class=\"sec_icon\" alt=\"\" />\n            <img v-else-if=\"info.patientInfo.sex == '女'\" :src=\"require('@/assets/images/woman.png')\" class=\"sec_icon\" alt=\"\" />\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">年龄：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.age }}岁</span>\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">病案号：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.sickNum }}</span>\n          </div>\n        </div>\n        <div class=\"flex wth_60p mt_20\">\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">主治医生：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.chargeDoctorName }}</span>\n          </div>\n          <div class=\"flex flex1 mr_20\">\n            <span class=\"info_blue\">责任护士：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.chargeNurseName }}</span>\n          </div>\n          <div class=\"flex flex2 mr_40\">\n            <span class=\"info_blue\">入院时间：</span>\n            <span class=\"c_ff\">{{ info.patientInfo.admissionTime }}</span>\n          </div>\n        </div>\n        <div class=\"flex mt_20\">\n          <span class=\"info_blue\">入院诊断：</span>\n          <span class=\"c_ff\">{{ info.patientInfo.illnessState }}</span>\n        </div>\n      </div>\n      <div class=\"list_card flex3\">\n        <div class=\"tab_box flex am_c pl_20\" ref=\"tabBoxRef\">\n          <div\n            class=\"tab_item\"\n            v-for=\"(item, index) in info.riskArr\"\n            :key=\"`${item.name}_${index}`\"\n            :class=\"{ selected: tab === index }\"\n            @click=\"selectTab(index)\"\n          >\n            {{ item.name }}\n          </div>\n        </div>\n        <div class=\"row_box title_box flex\">\n          <div v-for=\"item in tableHeader\" :key=\"item.label\" class=\"row_item t_ct\" :style=\"item.style\">{{ item.label }}</div>\n        </div>\n        <div class=\"list_box\" :style=\"{ height: cardHeightStr }\">\n          <template v-if=\"info.riskArr.length > 0\">\n            <div v-for=\"(item, index) in info.riskArr[tab].logArr\" :key=\"`${item.logDate}_${index}`\" class=\"row_box flex am_c\">\n              <div v-for=\"header in tableHeader\" :key=\"header.label\" class=\"row_item t_ct\" :style=\"header.style\">\n                {{ item[header.eng] }}\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Header from \"@/components/Header.vue\";\nimport SwiperView from \"@/components/SwiperView.vue\";\nimport { risklist } from \"@/api/index\";\n// const info = require(\"@/assets/info.js\").json;\n\n@Component({\n  name: \"RiskRecord\",\n  components: { Header, SwiperView },\n})\nexport default class extends Vue {\n  info: any = {\n    patientInfo: {},\n    riskArr: [],\n  };\n\n  tab = 0;\n  tableHeader = [\n    { label: \"评估时间\", eng: \"logDate\", style: \"flex: 2\" },\n    { label: \"评分\", eng: \"riskScore\", style: \"flex: 1\" },\n    { label: \"护理措施\", eng: \"nursingMeasures\", style: \"flex: 2\" },\n    { label: \"护理结果\", eng: \"evaluateResults\", style: \"flex: 2\" },\n    { label: \"评估人员\", eng: \"logUserName\", style: \"flex: 1\" },\n    { label: \"再评估时间\", eng: \"expectNextDate\", style: \"flex: 2\" },\n  ];\n\n  otherHeight = 231;\n\n  get cardHeightStr() {\n    return `calc(100vh - 260px - 50px - ${this.otherHeight}px)`;\n  }\n\n  mounted() {\n    this.getData();\n  }\n\n  async getData() {\n    const id = this.$route.params.id;\n    const pid = this.$route.query.nurseDepId;\n    const res: any = await risklist({ patientId: id, nurseDepId: pid });\n    this.info = res;\n    this.$nextTick(() => {\n      const heightInfo = (this.$refs.infoBoxRef as HTMLFormElement).offsetHeight;\n      const heightTab = (this.$refs.tabBoxRef as HTMLFormElement).offsetHeight;\n      this.otherHeight = heightInfo + heightTab;\n    });\n  }\n\n  selectTab(tab: number) {\n    this.tab = tab;\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.page {\n  color: #bdf0fc;\n  .info_box {\n    border-radius: 8px;\n    box-shadow: 0 0 10px #5389e2 inset;\n    padding: 20px;\n    margin-bottom: 20px;\n    font-size: 26px;\n    .wth_60p {\n      width: 60%;\n    }\n    .info_blue {\n      color: #5389e2;\n    }\n    .sec_icon {\n      width: 30px;\n      height: 30px;\n    }\n  }\n  .list_card {\n    position: relative;\n    margin: 0px 0px 20px 0px;\n    width: 100%;\n    border-radius: 8px;\n    box-shadow: 0 0 10px #5389e2 inset;\n    .tab_box {\n      .tab_item {\n        padding: 15px 20px;\n        cursor: pointer;\n        font-size: 24px;\n        color: #79a7df;\n      }\n      .selected {\n        color: #ffffff;\n      }\n    }\n    .title_box {\n      background: #31558b;\n    }\n    .row_box {\n      padding: 0 15px;\n      color: white;\n      .row_item {\n        font-size: 20px;\n        height: 50px;\n        line-height: 50px;\n      }\n    }\n    .list_box {\n      height: calc(100% - 50px);\n      overflow-y: scroll;\n    }\n  }\n}\n</style>\n"]}]}