{"remainingRequest":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhc/project/yiyuan/src/views/handover/index.vue?vue&type=style&index=0&id=5dcf41c0&lang=less&scoped=true&","dependencies":[{"path":"/Users/zhc/project/yiyuan/src/views/handover/index.vue","mtime":1635211491693},{"path":"/Users/zhc/project/yiyuan/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhc/project/yiyuan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYWdlIHsKICBwYWRkaW5nOiAxMDBweCAzMHB4IDMwcHggMzBweDsKICAucGFnZV9ib3ggewogICAgYm94LXNoYWRvdzogMCAwIDEwcHggIzUzODllMiBpbnNldDsKICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAudG9wX2JveCB7CiAgICAgIC50b3BfbGVmdF9ib3ggewogICAgICAgIHBhZGRpbmc6IDEwcHggNTBweDsKICAgICAgICAudGltZV90aXRsZSB7CiAgICAgICAgICBjb2xvcjogIzAwYTNmZjsKICAgICAgICAgIGZvbnQtc2l6ZTogMjhweDsKICAgICAgICB9CiAgICAgICAgLnRpbWUgewogICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICBmb250LXNpemU6IDI4cHg7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5yaWdodF9ib3ggewogICAgICAgIC50b3BfdGl0bGVfaXRlbSB7CiAgICAgICAgICBwYWRkaW5nOiA1cHggMDsKICAgICAgICB9CiAgICAgICAgLnRvcF9saXN0X2l0ZW0gewogICAgICAgICAgcGFkZGluZzogNXB4IDA7CiAgICAgICAgICAudG9wX2NvbF9pdGVtIHsKICAgICAgICAgICAgcGFkZGluZzogMCAxMHB4OwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuY29udGVudF9ib3ggewogICAgICBtYXJnaW46IDBweCAwcHg7CiAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgLnRpdGxlX2JveCB7CiAgICAgICAgcGFkZGluZzogMCAzMHB4OwogICAgICAgIGJhY2tncm91bmQ6ICMzMTU1OGI7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIC50aXRsZV9pdGVtIHsKICAgICAgICAgIHBhZGRpbmc6IDE1cHggMTBweDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmxpc3RfYm94IHsKICAgICAgICAvLyBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2OHB4IC0gNTFweCAtIDE2MHB4IC0gNjFweCk7CiAgICAgICAgcGFkZGluZzogMCAzMHB4OwogICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgICAubGlzdF9pdGVtIHsKICAgICAgICAgIHBhZGRpbmc6IDE1cHggMDsKICAgICAgICAgIC5jb2xfaXRlbSB7CiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgOjp2LWRlZXAgLmVsLXBhZ2luYXRpb24gewogICAgICAgIG1hcmdpbjogMDsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzc5YTdkZjsKICAgICAgfQogICAgfQogICAgLmJvdF9ib3ggewogICAgICBwYWRkaW5nOiAxMHB4IDMwcHggMTVweDsKICAgICAgLnRpdGxlIHsKICAgICAgICBjb2xvcjogIzAwYTNmZjsKICAgICAgICBmb250LXNpemU6IDI2cHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7CiAgICAgIH0KICAgICAgLnJlZmVyX3RvIHsKICAgICAgICBmb250LXNpemU6IDIycHg7CiAgICAgICAgcGFkZGluZzogMCAyMHB4OwogICAgICAgIGhlaWdodDogNDBweDsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/handover","sourcesContent":["<template>\n  <div class=\"page\">\n    <Header :logo=\"info.logo\" :title=\"info.depName\" :secondTitle=\"info.nurseDepName\"></Header>\n    <div class=\"page_box\">\n      <div class=\"top_box flex\" ref=\"infoBoxRef\">\n        <div class=\"top_left_box flex col am_c ju_c\">\n          <div class=\"time_title\">日期</div>\n          <div class=\"time mt_10\">{{ info.reportDay }}</div>\n        </div>\n        <div class=\"flex1 right_box\">\n          <div class=\"flex am_c\">\n            <div v-for=\"(tab, index) in topTitleList\" :key=\"`${tab.label}_${index}`\" class=\"t_ct top_title_item\" :style=\"tab.style\">\n              {{ tab.label }}\n            </div>\n          </div>\n          <div class=\"flex am_c top_list_item\" v-for=\"(item, idx) in info.shiftlist\" :key=\"`${item.reportUser}_${idx}`\">\n            <div v-for=\"(tab, index) in topTitleList\" :key=\"`${item[tab.eng]}_${tab.label}_${index}`\" class=\"t_ct top_col_item\" :style=\"tab.style\">\n              {{ item[tab.eng] }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"content_box\">\n        <div class=\"title_box flex am_c\">\n          <div v-for=\"(item, index) in titleList\" :key=\"`con_${item.label}_${index}`\" class=\"flex col am_c title_item\" :style=\"item.style\">\n            <div>{{ item.label }}</div>\n          </div>\n        </div>\n        <div class=\"list_box\" :style=\"{ height: cardHeightStr }\">\n          <div v-for=\"item in page.list\" :key=\"item.label\" class=\"flex am_c list_item\">\n            <div v-for=\"(tab, index) in titleList\" :key=\"`${item[tab.eng]}_${tab.label}_${index}`\" class=\"t_ct col_item\" :style=\"tab.style\">\n              {{ item[tab.eng] }}\n            </div>\n          </div>\n        </div>\n        <el-pagination\n          background\n          @current-change=\"handleCurrentChange\"\n          :current-page.sync=\"page.pageNo\"\n          :page-size=\"page.pageSize\"\n          :total=\"page.count\"\n          layout=\"total, prev, pager, next, jumper\"\n        />\n      </div>\n      <div class=\"bot_box flex am_c\">\n        <div class=\"title\">选择日期</div>\n        <el-date-picker v-model=\"selectData\" type=\"date\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\"></el-date-picker>\n        <el-button class=\"ml_30 refer_to\" type=\"primary\" :loading=\"isLoading\" @click=\"referTo()\">调阅</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Header from \"@/components/Header.vue\";\nimport { shiftList, shiftReportList } from \"@/api/index\";\n\n@Component({\n  name: \"Handover\",\n  components: { Header },\n})\nexport default class extends Vue {\n  info: any = {\n    reportDay: \"\",\n  };\n  selectData: any = \"\";\n  reportlist = [];\n  page = {\n    pageNo: 1,\n    pageSize: 30,\n    count: 0,\n  };\n  otherHeight = 145;\n  isLoading = false;\n\n  get cardHeightStr() {\n    return `calc(100vh - 416px - ${this.otherHeight}px)`;\n  }\n\n  topTitleList = [\n    { label: \"人员\", eng: \"reportUser\", style: \"flex: 1;color: white\" },\n    { label: \"班次\", eng: \"schedulingType\", style: \"flex: 1;color: white\" },\n    { label: \"原有\", eng: \"previousNum\", style: \"flex: 1\" },\n    { label: \"入院\", eng: \"enterHosptialNum\", style: \"flex: 1\" },\n    { label: \"出院\", eng: \"leaveHosptialNum\", style: \"flex: 1\" },\n    { label: \"转入\", eng: \"transferInNum\", style: \"flex: 1\" },\n    { label: \"转出\", eng: \"transferOutNum\", style: \"flex: 1\" },\n    { label: \"病危\", eng: \"criticallyIllNum\", style: \"flex: 1\" },\n    { label: \"病重\", eng: \"seriousIllNum\", style: \"flex: 1\" },\n    { label: \"手术\", eng: \"operationNum\", style: \"flex: 1\" },\n    { label: \"分娩\", eng: \"childbirthNum\", style: \"flex: 1\" },\n    { label: \"婴儿\", eng: \"babyNum\", style: \"flex: 1\" },\n    { label: \"死亡\", eng: \"deathNum\", style: \"flex: 1\" },\n    { label: \"实有\", eng: \"realNum\", style: \"flex: 1\" },\n  ];\n\n  titleList = [\n    { label: \"类型\", eng: \"schedulingType\", style: \"flex: 1\" },\n    { label: \"床号\", eng: \"bedNo\", style: \"flex: 1\" },\n    { label: \"姓名\", eng: \"patientName\", style: \"flex: 1\" },\n    { label: \"诊断\", eng: \"diagnosis\", style: \"flex: 3\" },\n    { label: \"交班内容\", eng: \"shiftContent\", style: \"flex: 3\" },\n  ];\n\n  mounted() {\n    this.selectData = this.$route.query.reportDay || \"\";\n    this.getData();\n    this.shiftReportList();\n  }\n\n  async getData() {\n    const pid = this.$route.query.nurseDepId;\n    const res = await shiftList({ nurseDepId: pid, reportDay: this.selectData });\n    this.info = res;\n  }\n\n  async shiftReportList() {\n    const pid = this.$route.query.nurseDepId;\n    const res: any = await shiftReportList({ nurseDepId: pid, pageNo: this.page.pageNo, pageSize: this.page.pageSize, reportDay: this.selectData });\n    this.page = Object.assign({}, this.page, res.page);\n    this.info.reportDay = res.reportDay;\n    this.$nextTick(() => {\n      this.otherHeight = (this.$refs.infoBoxRef as HTMLFormElement).offsetHeight;\n    });\n  }\n\n  handleCurrentChange() {\n    this.shiftReportList();\n  }\n\n  async referTo() {\n    try {\n      this.isLoading = true;\n      await Promise.all([this.getData(), this.shiftReportList()]);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.page {\n  padding: 100px 30px 30px 30px;\n  .page_box {\n    box-shadow: 0 0 10px #5389e2 inset;\n    border-radius: 12px;\n    .top_box {\n      .top_left_box {\n        padding: 10px 50px;\n        .time_title {\n          color: #00a3ff;\n          font-size: 28px;\n        }\n        .time {\n          color: #ffffff;\n          font-size: 28px;\n        }\n      }\n      .right_box {\n        .top_title_item {\n          padding: 5px 0;\n        }\n        .top_list_item {\n          padding: 5px 0;\n          .top_col_item {\n            padding: 0 10px;\n            color: white;\n          }\n        }\n      }\n    }\n    .content_box {\n      margin: 0px 0px;\n      font-size: 18px;\n      .title_box {\n        padding: 0 30px;\n        background: #31558b;\n        color: white;\n        .title_item {\n          padding: 15px 10px;\n        }\n      }\n      .list_box {\n        // height: calc(100vh - 68px - 51px - 160px - 61px);\n        padding: 0 30px;\n        overflow-y: scroll;\n        .list_item {\n          padding: 15px 0;\n          .col_item {\n            padding: 0 10px;\n          }\n        }\n      }\n      ::v-deep .el-pagination {\n        margin: 0;\n        border-bottom: 1px solid #79a7df;\n      }\n    }\n    .bot_box {\n      padding: 10px 30px 15px;\n      .title {\n        color: #00a3ff;\n        font-size: 26px;\n        font-weight: 600;\n        margin-right: 30px;\n      }\n      .refer_to {\n        font-size: 22px;\n        padding: 0 20px;\n        height: 40px;\n      }\n    }\n  }\n}\n</style>\n"]}]}